"use strict";const e=require("../common/vendor.js"),o=require("./index.js");exports.getCode=function(){return new Promise(((o,n)=>{e.index.login({provider:"weixin",onlyAuthorize:!0,success:e=>{console.log(e,"code"),o(e.code)},fail:function(e){}})}))},exports.getMytoken=(e,n,r,i,s)=>o.DxRequest.post("/login/login",{code:e,avatarUrl:n,nickName:r,rawData:i,signature:s}),exports.getUserInfo=function(){return new Promise(((o,n)=>{e.index.getUserProfile({desc:"获取你的昵称、头像",success:e=>{o(e)},fail:function(e){}})}))};
